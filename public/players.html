<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Azee Tourney</title>
    <link rel="stylesheet" href="./main.css">

  </head>
  <div class="topnav">
    <a href="./index.html">Current</a>
    <a class="active" href="./players.html">Players</a>
    <a href="./previous.html">Previous Tourneys</a>
    <a href="./fame.html">Hall of Fame</a>
  </div>
    <body>
      <div class="panel">
       <h1>
         PLAYERS
       </h1>
     </div>
    
     <div class="panel">
      <form>
        <label for="fname">Player:</label>
        <input type="text" id="player" name="player"><br>
      </form>
      <button id = "addp" type="button">Add Player!</button>
     </div>
     
       <div id="chart" >
       </div>
     
      </body>
      <!-- <script type="module" src="index.js"></script> -->
      <script src="https://www.gstatic.com/firebasejs/4.0.0/firebase.js"></script>
      <script>
        // Initialize Firebase
        // TODO: Replace with your project's customized code snippet
        var config = {
          apiKey: "<API_KEY>",
          authDomain: "azee-614e8.firebaseapp.com",
          databaseURL: "https://azee-614e8-default-rtdb.firebaseio.com/",
          // storageBucket: "<BUCKET>.appspot.com",
          // messagingSenderId: "<SENDER_ID>",
        };
        firebase.initializeApp(config);
      
        // Get a reference to the database service
        var database = firebase.database();

        // let submitButton = document.getElementById("submit");


    function addPlayer(player){
        console.log(player);
        var postData = {
            player: player,
          };
          var newPostKey = firebase.database().ref().child('posts').push().key;
          var updates = {};
          updates['/STD4P1-PLAYERS/' + newPostKey] = postData
          updates['/posts/' + newPostKey] = postData;
          updates['/user-posts/' + uid + '/' + newPostKey] = postData;
          updatePlayers();
          return firebase.database().ref().update(updates);
      }

      let addButton = document.getElementById("addp");
      let player = document.getElementById("player");
      addButton.addEventListener('click', function(){
          console.log("in addp button");
          addPlayer(player.value);
      });
        // }
      </script>

     
      <div class="bottom" id="right">
        Website design by Felipe420
      </div>
     
      <div class="bottom" id="left">
       <a href=" https://azee.mattle.online/lobby/rooms" style="color:#FAFAFF">Azee</a>
     </div>

  <!-- </body> -->
</html>
